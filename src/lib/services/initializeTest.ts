/*
 * initializeTest í•¨ìˆ˜
 *
 * ì´ í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì…ë‹ˆë‹¤.
 * ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì„œë²„ì— ì „ì†¡í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
 *
 * ì£¼ìš” ê¸°ëŠ¥:
 * 1. ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ë°ì´í„° ì¶”ì¶œ
 * 2. ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì„œë²„ì— POST ìš”ì²­ìœ¼ë¡œ ì „ì†¡
 * 3. ìš”ì²­ ì„±ê³µ ì—¬ë¶€ì— ë”°ë¥¸ ì—ëŸ¬ ì²˜ë¦¬
 * 4. ì´ˆê¸°í™” ê²°ê³¼ë¥¼ JSON í˜•íƒœë¡œ ë°˜í™˜
 *
 * ë°˜í™˜ê°’:
 * - ì„±ê³µ ì‹œ: ì„œë²„ë¡œë¶€í„° ë°›ì€ JSON ì‘ë‹µ (í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™” ì •ë³´)
 * - ì‹¤íŒ¨ ì‹œ: undefined (ì—ëŸ¬ëŠ” ì½˜ì†”ì— ê¸°ë¡ë¨)
 *
 * ì‘ì—…ì: ê¹€ë„í˜„
 */

const initializeTest = async () => {
  // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  const userData = sessionStorage.getItem("user");

  try {
    // ì„œë²„ì— POST ìš”ì²­ ë³´ë‚´ê¸°
    const res = await fetch(`${process.env.NEXT_PUBLIC_INITIALIZE_HANLA}`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: userData,
    });

    // ì‘ë‹µì´ ì„±ê³µì ì´ì§€ ì•Šì€ ê²½ìš° ì—ëŸ¬ ë¡œê¹…
    if (!res.ok) {
      console.error("ğŸ˜¢ initializeëŠ” ì„±ê³µí–ˆëŠ”ë° ë¬¸ì œê°€ ìƒê²¼ìŠµë‹ˆë‹¤!");
    }

    // ì‘ë‹µ ë°ì´í„°ë¥¼ JSON í˜•íƒœë¡œ ë°˜í™˜
    return await res.json();
  } catch (error) {
    // ìš”ì²­ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë¡œê¹…
    console.error("ğŸ˜¢ initializeë¥¼ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤!");
  }
};

export default initializeTest;
